/*! hub.me - v1.0.1 - 2012-06-30
* Copyright (c) 2012/06/30 Zeno Rocha; Licensed WTF-PL */
(function(a,b,c,d){function g(b,c){this.element=b,this.options=a.extend({},f,c),this._defaults=f,this._name=e,this.init()}var e="hubMe",f={username:"github",theme:"blue",exclude:[],languages:!0};g.prototype.init=function(){a("#theme-css").attr("href","css/themes/"+this.options.theme+".css"),this.getRepos()},g.prototype.getRepos=function(){var b=this,c=[],d=b.options.username+".github.com";a.getJSON("https://api.github.com/users/"+this.options.username+"/repos?callback=?",function(e){a.each(e.data,function(a,b){b.language!=null&&b.name!=d&&c.push(b)}),c=h(c),a.each(c,function(d,e){a.inArray(c[d].name,b.options.exclude)===-1&&(b.options.languages&&(d>0?c[d].language!=c[d-1].language&&b.createCategory(c[d].language):b.createCategory(c[d].language)),b.createRepo(c[d]))})})},g.prototype.createCategory=function(b){var c="<section><h1>"+b+"</h1>"+"</section>";a(this.element).append(c)},g.prototype.createRepo=function(b){b.homepage=b.homepage&&!/^(http|https):\/\//.test(b.homepage)?"http://"+b.homepage:b.homepage;var c='<article><div><h2><a href="'+b.html_url+'">'+b.name+"</a></h2>"+"<p>"+b.description+"</p>"+'<a href="'+b.homepage+'" target="_blank">'+b.homepage+"</a>"+"</div>"+"</article>";a(this.element).append(c)};var h=function(a){return a.sort(function(a,b){var c=a.language,d=b.language;if(c<d)return-1;if(c>d)return 1})};a.fn.hubMe=function(b){return this.each(function(){a.data(this,"plugin_"+e)||a.data(this,"plugin_"+e,new g(this,b))})},a.hubMe=function(){var a,b;return a=new function(){},b={username:"github",theme:"blue",exclude:[],languages:!0},a.fn=a.prototype,a.fn.createRepo=function(){},a.fn.createCategory=function(){},a.fn.init=function(){},a}()})(jQuery,window,document);